# Python tests tutorial
## Pytest
[pytest](https://docs.pytest.org/en/latest/) - —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ [–∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤](https://habr.com/ru/companies/otus/articles/720664/)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É pytest, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pip(–Ω–æ –º–æ–∂–Ω–æ –∏ [–¥—Ä—É–≥–∏–µ](https://dev.to/adamghill/python-package-manager-comparison-1g98)), –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ Python.
2. –ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pytest, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É: `pip install pytest`
3. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ pytest —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –≤—ã–ø–æ–ª–Ω–∏–≤ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É: `python -m pytest --version` (–¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –≤–µ—Ä—Å–∏—è pytest-–∞)

## –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

### –ò–µ—Ä–∞—Ä—Ö–∏—è —Ñ–∞–π–ª–æ–≤

–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —Å pytest –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –ø–∞–ø–∫—É tests –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª —Å —Ç–µ—Å—Ç–∞–º–∏ –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –Ω–µ–π–º–∏–Ω–≥:
* –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è –Ω–∞ `test_`
* –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ –∏ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `test_`

![img_start.png](images/img_start.png)
> `pyproject.toml` —Ñ–∞–π–ª —ç—Ç–æ –ø—Ä–æ –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä `poetry`. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ poetry [—Ç—É—Ç](https://python-poetry.org/docs/#installation), –∞ –ø—Ä–æ —Å–∞–º —Ñ–∞–π–ª `pyproject.toml` [—Ç—É—Ç](https://packaging.python.org/en/latest/specifications/pyproject-toml/) –∏ [—Ç—É—Ç](https://stackoverflow.com/questions/62983756/what-is-pyproject-toml-file-for)


### –ù–∞–ø–∏—à–µ–º –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ —Ñ—É–Ω–∫—Ü–∏—é –¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –µ–µ
`myproject/main.py`:
```python
def division(number_1: int, number_2: int) -> int:
    """Returns division of two numbers
    :param number_1: First number
    :param number_2: Second number
    :return: Division of two numbers"""
    
    return int(number_1 / number_2)
```

–¢–µ–ø–µ—Ä—å –≤ –º–æ–¥—É–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è test_func.py –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –∏ –ø—Ä–æ–ø–∏—à–µ–º –ø–µ—Ä–≤—ã–µ —Ç–µ—Å—Ç—ã:

```python
from myproject.main import division


def test_division_good():
    assert division(10, 2) == 5
```

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è assert —è–≤–ª—è–µ—Ç—Å—è –±—É–ª–µ–≤—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —É—Å–ª–æ–≤–∏–µ –∏—Å—Ç–∏–Ω–Ω—ã–º –∏–ª–∏ –ª–æ–∂–Ω—ã–º. –ï—Å–ª–∏ –æ–Ω–æ –∏—Å—Ç–∏–Ω–Ω–æ, —Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ—á–∫–∏ –∫–æ–¥–∞, –µ—Å–ª–∏ –æ–Ω–æ –ª–æ–∂–Ω–æ, —Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É. –ß–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –ø–æ—Å–ª–µ —É—Å–ª–æ–≤–∏—è –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ. Pytest –≤—ã–≤–µ–¥–µ—Ç –µ–≥–æ, –µ—Å–ª–∏ —Ç–µ—Å—Ç –ø—Ä–æ–≤–∞–ª–∏—Ç—Å—è

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã, –≤–≤–µ–¥—ë–º –≤ –∫–æ–Ω—Å–æ–ª—å –∫–æ–º–∞–Ω–¥—É pytest. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∞—à–µ–π IDE. –ù–∞–ø—Ä–∏–º–µ—Ä, PyCharm –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–∞–π–ª —Ü–µ–ª–∏–∫–æ–º –∏–ª–∏ —Ç–µ—Å—Ç–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏.

```shell
python -m pytest -vv tests/test_func.py
```

![img_first_test_res.png](images/img_first_test_res.png)

### –†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ —Å–æ–≤–ø–∞–ª —Å –Ω–∞—Å—Ç–æ—è—â–∏–º
–ò–∑–º–µ–Ω–∏–º –∫–æ–¥ –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∑–∞–ø—É—Å—Ç–∏–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```python
from myproject.main import division
...
def test_division_good():
    assert division(10, 2) == 1, "Test failed"
```

```shell
python -m pytest -vv tests/test_func_bad_example.py
```

![img_test_failed.png](images/img_test_failed.png)

–ö–∞–∫ –∏ –æ–∂–∏–¥–∞–ª–æ—Å—å, –ø–æ–ª—É—á–∏–ª–∏ –æ—à–∏–±–∫—É AssertionError

## –ö–ª–∞—Å—Å—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ú—ã —á–∞—Å—Ç–æ —Ö–æ—Ç–∏–º —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, —á—Ç–æ–±—ã –æ–Ω–∏ –º–æ–≥–ª–∏ —Å–æ–≤–º–µ—Å—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ –º–µ—Ç–æ–¥—ã. –ú—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ, –∑–∞–ø–∏—Å–∞–≤ —Ç–µ—Å—Ç—ã –∫–∞–∫ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞.

–í –∫–ª–∞—Å—Å–∞—Ö —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏, pytest –∏—â–µ—Ç —Ç–µ—Å—Ç—ã –≤ —Ñ–∞–π–ª–∞—Ö, pytest –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã —Ç–æ–ª—å–∫–æ –≤ –∫–ª–∞—Å—Å–∞—Ö, –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è —Å Test, –∞ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ - —Å test_.


### –ù–∞–ø–∏—à–µ–º –µ—â–µ –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –Ω–µ–µ
–†–µ–∞–ª–∏–∑—É–µ–º –≤ —Ñ–∞–π–ª–µ main –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é `SIGN`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é 1, -1, 0 –ø—Ä–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–ª–∞—Ö –∏ –Ω—É–ª–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

```python
def signature(number: float) -> int:
    """
    Return 1 if positive, -1 if negative, 0 if zero
    :param number:
    :return: Signature of the number: int
    """
    if number == 0:
        return 0
    elif number > 0:
        return 1
    else:
        return -1

```
–í —Ñ–∞–π–ª–µ `tests/test_func_class.py` —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞ `TestClass` —Ä–µ–∞–ª–∏–∑—É–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏:

```python
from myproject.main import signature
...
class TestClass:
    def test_signature(self):
        assert signature(10) == 1

    def test_signature2(self):
        assert signature(-1232.456) == -1

    def test_signature3(self):
        assert signature(0) == 0
```

–ó–∞–ø—É—Å—Ç–∏–º —Ç–µ—Å—Ç—ã:
```shell
python -m pytest -vv tests/test_func_class.py
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–æ –∏ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞
–†–µ–∞–ª–∏–∑—É–µ–º –∫–ª–∞—Å—Å `Calculator` —Å –º–µ—Ç–æ–¥–∞–º–∏ —Å–ª–æ–∂–µ–Ω–∏—è –∏ –≤—ã—á–∏—Ç–∞–Ω–∏—è –≤ —Ñ–∞–π–ª–µ `myproject/calculator.py`

```python
class Calculator:
    """
    Calculator class
    """
    def add(self, a: float, b: float) -> float:
        """
        Adding two numbers
        :param a:
        :param b:
        :return: Sum of two numbers: float
        """
        return a + b

    def subtract(self, a: float, b: float) -> float:
        """
        Subtracting two numbers
        :param a:
        :param b:
        :return: Difference of two numbers: float
        """
        return a - b
```

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –µ–µ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–π:

```python
from myproject.calculator import Calculator


def test_add():
    calc = Calculator()
    assert calc.add(2, 3) == 5


def test_subtract():
    calc = Calculator()
    assert calc.subtract(3, 2) == 1
```

```shell
python -m pytest -vv tests/test_class.py
```

![img_test_class.png](images/img_test_class.png)


## –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤

–ú–µ—Ç–∫–∞ parametrize –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ç–µ—Å—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ –≤—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ –º—ã —Ö–æ—Ç–∏–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª—É—á–∞–µ–≤. –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑—É–µ–º –Ω–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –î–ª—è —ç—Ç–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É pytest –∏ –ø—Ä–æ–ø–∏—à–µ–º –º–µ—Ç–∫—É parametrize —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏.

–ú–æ–∂–Ω–æ –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –ø–µ—Ä–µ–¥–∞—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –¢–æ–≥–¥–∞ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—ë—Ç—Å—è –∫–æ—Ä—Ç–µ–∂–µ–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –º—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏ –ø–µ—Ä–µ—á–∏—Å–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —ç—Ç–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

```python
from myproject.main import division
import pytest


@pytest.mark.parametrize("num_1, num_2, expected", [(10, 2, 5),
                                                    (20, 10, 2),
                                                    (33, 11, 3)])
def test_division(num_1, num_2, expected):
    assert division(num_1, num_2) == expected
```
–ü—Ä–æ–≤–µ—Ä–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```shell
python -m pytest -vv tests/test_func_parametrized.py
```

![img_test_parametrized.png](images/img_test_parametrized.png)

–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ –∏ –∫–ª–∞—Å—Å, —Å–¥–µ–ª–∞–µ–º —ç—Ç–æ –¥–ª—è –Ω–∞—à–µ–≥–æ –∫–ª–∞—Å—Å–∞ TestClass:
```python
from myproject.main import signature
import pytest


@pytest.mark.parametrize("number, expection", [(10, 1), (-1232.456, -1), (0, 0)])
class TestClass:
    def test_signature(self, number, expection):
        assert signature(number) == expection

```
```shell
python -m pytest -vv tests/test_func_class_parametrized.py
```
![img_test_class_parametrized.png](images/img_test_class_parametrized.png)


## –§–∏–∫—Å—Ç—É—Ä—ã

–§–∏–∫—Å—Ç—É—Ä—ã –≤ pytest ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–∞–º –¥–∞–Ω–Ω—ã—Ö, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ —Ç–µ—Å—Ç–æ–≤. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Ñ–∏–∫—Å—Ç—É—Ä—ã: –§–∏–∫—Å—Ç—É—Ä—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ `@pytest.fixture`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–µ—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ —Ñ–∏–∫—Å—Ç—É—Ä—É. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Ç–µ—Å—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç —ç—Ç—É —Ñ–∏–∫—Å—Ç—É—Ä—É.

–§–∏–∫—Å—Ç—É—Ä—ã –ø—Ä–∏–Ω—è—Ç–æ –æ–±—ä—è–≤–ª—è—Ç—å –≤ —Ñ–∞–π–ª–µ `conftest.py` —Ä—è–¥–æ–º —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏.

–ù–∞–ø–∏—à–µ–º —Ñ–∏–∫—Å—Ç—É—Ä—É `sample_data`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª. –≠—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ–∏–∫—Å—Ç—É—Ä—É `sample_data`.

`tests/conftest.py`:
```python
import pytest


@pytest.fixture
def sample_data():
    return [1, 2, 3, 4, 5]
```

`tests/test_func_fixture.py`:
```python
def test_sum(sample_data):
    assert sum(sample_data) == 15
```

```shell
python -m pytest -vv tests/test_func_fixture.py
```


### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–∫—Å—Ç—É—Ä

–§–∏–∫—Å—Ç—É—Ä—ã –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–∫—Å—Ç—É—Ä—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–ª–∞—Å—Å–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –ø—Ä–∏–º–µ—Ä, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ñ–∏–∫—Å—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–µ—Ç —Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞ –∫–ª–∞—Å—Å–∞ SampleClass, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Ç–æ–º –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏

`myproject/main.py`:
```python
class SampleClass:
    def __init__(self, value):
        self.value = value
```
`tests/conftest.py`:
```python
import pytest

from myproject.main import SampleClass
...
@pytest.fixture(params=[1, 2, 3, 0])
def sample_class_instance(request):
    return SampleClass(request.param)
```
`tests/test_class_fixture.py`:
```python
def test_sample_class(sample_class_instance):
    assert sample_class_instance.value > 0
```
`sample_class_instance` ‚Äî —ç—Ç–æ —Ñ–∏–∫—Å—Ç—É—Ä–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º(–≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–µ) `params`, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞–µ—Ç —Ç—Ä–∏ —Ä–∞–∑–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `SampleClass` —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –ö–∞–∂–¥—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—ã–∑–æ–≤–∞ —Ç–µ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ–∏–∫—Å—Ç—É—Ä—É `sample_class_instance` (–ß—Ç–æ–±—ã –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å, –∫–∞–∫ –≤—ã–≥–ª—è–¥—è—Ç –ø—Ä–æ–≤–∞–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, —Å–¥–µ–ª–∞–µ–º –æ–¥–∏–Ω —Ç–µ—Å—Ç –Ω–µ–≤–µ—Ä–Ω—ã–ºüôÇ):

```shell
python -m pytest -vv tests/test_class_fixture.py
```

![img_test_class_fixtures_parametrized.png](images/img_test_class_fixtures_parametrized.png)

### –û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Ñ–∏–∫—Å—Ç—É—Ä

–§–∏–∫—Å—Ç—É—Ä—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏: `function`, `class`, `module`, `session`. –≠—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Ñ–∏–∫—Å—Ç—É—Ä–∞: –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∫–ª–∞—Å—Å–∞, –º–æ–¥—É–ª—è –∏–ª–∏ –≤—Å–µ–≥–æ —Å–µ–∞–Ω—Å–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –Ω–∞—à –∫–ª–∞—Å—Å `Calculator`, –¥–æ–±–∞–≤–∏–≤ –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:
```python
class Calculator:
    """
    Calculator class
    """
    def add(self, a: float, b: float) -> float:
        """
        Adding two numbers
        :param a:
        :param b:
        :return: Sum of two numbers: float
        """
        return a + b

    def subtract(self, a: float, b: float) -> float:
        """
        Subtracting two numbers
        :param a:
        :param b:
        :return: Difference of two numbers: float
        """
        return a - b

    def multiply(self, a: float, b: float) -> float:
        """
        Multiplying two numbers
        :param a:
        :param b:
        :return: Product of two numbers: float
        """
        return a * b

    def divide(self, a: float, b: float) -> float:
        """
        Dividing two numbers
        :param a:
        :param b:
        :return: Division of two numbers: float
        """
        if b != 0:
            return a / b
        else:
            raise ValueError("Cannot divide by zero")
```

–¢–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–µ–º —Ç–µ—Å—Ç—ã –¥–ª—è —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Ñ–∏–∫—Å—Ç—É—Ä:

`tests/conftest.py`:
```python
import pytest

from myproject.main import Calculator
...
@pytest.fixture(scope='function')
def calculator_function():
    print("–°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Calculator")
    return Calculator()


@pytest.fixture(scope='class')
def calculator_class():
    print("–°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Calculator –¥–ª—è –∫–ª–∞—Å—Å–∞")
    return Calculator()


@pytest.fixture(scope='module')
def calculator_module():
    print("–°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Calculator –¥–ª—è –º–æ–¥—É–ª—è")
    return Calculator()


@pytest.fixture(scope='session')
def calculator_session():
    print("–°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Calculator –¥–ª—è —Å–µ—Å—Å–∏–∏")
    return Calculator()
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Ñ–∏–∫—Å—Ç—É—Ä:

`function`: –§–∏–∫—Å—Ç—É—Ä–∞ `calculator_function` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `Calculator` –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–µ—Å—Ç–∞.

`class`: –§–∏–∫—Å—Ç—É—Ä–∞ `calculator_class` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `Calculator` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Ç–µ—Å—Ç–∞.

`module`: –§–∏–∫—Å—Ç—É—Ä–∞ `calculator_module` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `Calculator` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è —Ç–µ—Å—Ç–∞.

`session`: –§–∏–∫—Å—Ç—É—Ä–∞ `calculator_session` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `Calculator` –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –≤—Å–µ–π —Å–µ—Å—Å–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

–ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ñ–∏–∫—Å—Ç—É—Ä—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `Calculator` –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤.

```shell
python -m pytest -vv -s tests/test_calculator.py
```
![img_test_fixture_scope.png](images/img_test_fixture_scope.png)

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Ñ–∏–∫—Å—Ç—É—Ä–∞ `calculator_session` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –µ—ë –∏—Å–ø–æ–ª—å–∑—É—é—Ç. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –≤ —Å–µ–∞–Ω—Å–µ.

## –ü–ª–∞–≥–∏–Ω—ã –¥–ª—è pytest

### pytest-cov

[pytest-cov](https://pytest-cov.readthedocs.io/en/latest/) ‚Äî —ç—Ç–æ –ø–ª–∞–≥–∏–Ω –¥–ª—è `pytest`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –ø–æ–ª—É—á–∏—Ç—å –æ—Ç—á–µ—Ç –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏. –û–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∞—è —á–∞—Å—Ç—å –≤–∞—à–µ–≥–æ –∫–æ–¥–∞ –±—ã–ª–∞ –∑–∞—Ç—Ä–æ–Ω—É—Ç–∞ —Ç–µ—Å—Ç–∞–º–∏, –∞ –∫–∞–∫–∞—è –Ω–µ—Ç.

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–î–ª—è `pip`:
```shell
pip install pytest-cov
```
–î–ª—è `poetry`:
```shell
poetry add --group dev pytest-cov
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```shell
python -m pytest --cov=myproject -vv tests/test_calculator.py
```
![img_test_plugin_cov.png](images/img_test_plugin_cov.png)

–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ myproject –ª–µ–∂–∏—Ç —Ñ–∞–π–ª main.py —Å–æ –≤—Å–µ–º–∏ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–º–∏ –Ω–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏ –∫–ª–∞—Å—Å–∞–º–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤, –∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø–∞–ø–∫–µ `tests` –ª–µ–∂–∏—Ç —Ñ–∞–π–ª `test_calculator.py`, —Ç–µ—Å—Ç–∏—Ä—É—é—â–∏–π —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ `Calculator`. –¢–∞–∫ –∫–∞–∫ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, –ø–æ–∫—Ä—ã—Ç–∏–µ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 64%.

### pytest-mock

[pytest-mock](https://pytest-mock.readthedocs.io/en/latest/) ‚Äî —ç—Ç–æ –ø–ª–∞–≥–∏–Ω –¥–ª—è pytest, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∫–∏–Ω–≥ (—Ç–µ—Ö–Ω–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∞–º –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤) –≤ —Ç–µ—Å—Ç–∞—Ö. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Ñ–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏–ª–∏ —Å–µ—Ç–µ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã.

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–î–ª—è `pip`:
```shell
pip install pytest-mock
```
–î–ª—è `poetry`:
```shell
poetry add --group dev pytest-mock
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```python
import myproject


def test_example(mocker):
    mocked_func = mocker.patch('myproject.main.signature')
    mocked_func.return_value = 'mocked'

    assert myproject.main.signature(1) == 'mocked'
```
**–í–ê–ñ–ù–û**: –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–æ–∫–∞ –Ω–∞ –∫–∞–∫–æ–π-—Ç–æ –æ–±—ä–µ–∫—Ç –≤ –¥—Ä—É–≥–æ–º –º–æ–¥—É–ª–µ, –æ–Ω –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—ä–µ–∫—Ç–æ–º,
–∫ –∫–æ—Ç–æ—Ä–æ–º—É –º—ã –ø–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç —Å–∞–º—ã–π –º–æ–¥—É–ª—å(–µ—â—ë –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å, –Ω–æ —ç—Ç–æ –º–æ–≤–µ—Ç–æ–Ω; –ø–æ—á–µ–º—É - –ø–æ–¥—É–º–∞–π—Ç–µ —Å–∞–º–∏):

!!! –≠–¢–û **–ù–ï**–†–ê–ë–û–ß–ò–ô –ö–û–î !!!
```python
from myproject.main import signature


def test_example(mocker):
    mocked_func = mocker.patch('myproject.main.signature')
    mocked_func.return_value = 'mocked'

    assert signature(1) == 'mocked'
```
^^^ –¢–ê–ö **–ù–ï** –°–†–ê–ë–û–¢–ê–ï–¢ ^^^

–ù—É–∂–Ω–æ –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—ã—à–µ!


–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ `mocker.patch` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–¥–º–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `signature` –≤ –º–æ–¥—É–ª–µ `main` –ø–∞–∫–µ—Ç–∞ `myproject`. –ó–∞—Ç–µ–º –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –≤ –º–æ–∫–µ.

```shell
python -m pytest -s tests/test_example.py
```

> `-s` —Ç—É—Ç —ç—Ç–æ `--capture=no`, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã–≤–æ–¥ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –≤—ã–≤–æ–¥–∞ –Ω–µ –±—É–¥–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ—Å—Ç–æ–≤

## pytest-xdist

[pytest-xdist](https://pytest-xdist.readthedocs.io/en/latest/) ‚Äî —ç—Ç–æ –ø–ª–∞–≥–∏–Ω –¥–ª—è pytest, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç–µ—Å—Ç—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ. –ü–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ —Ç–µ—Å—Ç–æ–≤ –º–Ω–æ–≥–æ –∏/–∏–ª–∏ –æ–Ω–∏ –¥–æ–≤–æ–ª—å–Ω–æ –¥–æ–ª–≥–∏–µ.

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–î–ª—è `pip`:
```shell
pip install pytest-xdist
```
–î–ª—è `poetry`:
```shell
poetry add --group dev pytest-xdist
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç —Ç–µ—Å—Ç—ã –≤ 10 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
```shell
python -m pytest -n 10 tests/
```
–ó–∞–ø—É—Å—Ç–∏—Ç —Ç–µ—Å—Ç—ã –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Å–∫–æ–ª—å–∫–æ —É –≤–∞—Å —è–¥–µ—Ä:
```shell
python -m pytest -n auto tests/
```